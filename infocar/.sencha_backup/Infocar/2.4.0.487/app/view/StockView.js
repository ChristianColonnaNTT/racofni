/*
 * File: app/view/StockView.js
 *
 * This file was generated by Sencha Architect version 3.1.0.
 * http://www.sencha.com/products/architect/
 *
 * This file requires use of the Sencha Touch 2.4.x library, under independent license.
 * License of Sencha Architect does not include license for Sencha Touch 2.4.x. For more
 * details see http://www.sencha.com/license or contact license@sencha.com.
 *
 * This file will be auto-generated each and everytime you save your project.
 *
 * Do NOT hand edit this file.
 */

Ext.define('Infocar.view.StockView', {
    extend: 'Ext.Container',
    alias: 'widget.StockView',

    requires: [
        'Infocar.view.TopBar',
        'Ext.form.Panel',
        'Ext.Spacer',
        'Ext.field.Toggle',
        'Ext.field.Hidden',
        'Ext.Label',
        'Ext.XTemplate',
        'Ext.field.Select',
        'Ext.Button',
        'Ext.Img',
        'Ext.carousel.Carousel',
        'Ext.tab.Panel',
        'Ext.tab.Bar',
        'Ext.dataview.List'
    ],

    config: {
        itemId: 'stockView',
        items: [
            {
                xtype: 'TopBar'
            },
            {
                xtype: 'container',
                height: '100%',
                itemId: 'bodyStockContainer',
                layout: {
                    type: 'card',
                    animation: 'slide'
                },
                items: [
                    {
                        xtype: 'container',
                        Titolo: 'Stock - Ricerca stock',
                        itemId: 'ricercaStockContainer',
                        layout: 'vbox',
                        items: [
                            {
                                xtype: 'formpanel',
                                height: 240,
                                itemId: 'ricercaStockForm',
                                layout: 'vbox',
                                scrollable: false,
                                items: [
                                    {
                                        xtype: 'container',
                                        layout: 'hbox',
                                        items: [
                                            {
                                                xtype: 'textfield',
                                                itemId: 'descrizioneRicercaStockField',
                                                width: '60%',
                                                label: 'Targa o Descrizione',
                                                labelWidth: 200,
                                                name: 'descrizione'
                                            },
                                            {
                                                xtype: 'spacer',
                                                width: 70
                                            },
                                            {
                                                xtype: 'togglefield',
                                                itemId: 'stockUsatoRicercaStockToggle',
                                                label: 'Stock',
                                                labelWidth: '45%'
                                            },
                                            {
                                                xtype: 'hiddenfield',
                                                itemId: 'stockUsatoRicercaStockHiddenField',
                                                name: 'stockUsatoFlag'
                                            },
                                            {
                                                xtype: 'label',
                                                html: 'Usato'
                                            }
                                        ]
                                    },
                                    {
                                        xtype: 'container',
                                        layout: 'hbox',
                                        items: [
                                            {
                                                xtype: 'sliderfield',
                                                flex: 1,
                                                itemId: 'prezzoMinMaxRicercaStockSlider',
                                                component: {
                                                    allowThumbsOverlapping: true
                                                },
                                                label: 'Prezzo',
                                                labelWidth: 130,
                                                increment: 1000
                                            },
                                            {
                                                xtype: 'hiddenfield',
                                                itemId: 'prezzoMinRicercaStockHiddenField',
                                                name: 'minPrezzo'
                                            },
                                            {
                                                xtype: 'hiddenfield',
                                                itemId: 'prezzoMaxRicercaStockHiddenField',
                                                name: 'maxPrezzo'
                                            },
                                            {
                                                xtype: 'spacer',
                                                width: 100
                                            },
                                            {
                                                xtype: 'sliderfield',
                                                flex: 1,
                                                itemId: 'kmMinMaxRicercaStockSlider',
                                                component: {
                                                    allowThumbsOverlapping: true
                                                },
                                                label: 'KM',
                                                labelWidth: 130,
                                                increment: 1000
                                            },
                                            {
                                                xtype: 'hiddenfield',
                                                itemId: 'kmMinRicercaStockHiddenField',
                                                name: 'minKm'
                                            },
                                            {
                                                xtype: 'hiddenfield',
                                                itemId: 'kmMaxRicercaStockHiddenField',
                                                name: 'maxKm'
                                            }
                                        ]
                                    },
                                    {
                                        xtype: 'container',
                                        layout: 'hbox',
                                        items: [
                                            {
                                                xtype: 'spacer',
                                                width: 130
                                            },
                                            {
                                                xtype: 'container',
                                                flex: 1,
                                                layout: 'hbox',
                                                items: [
                                                    {
                                                        xtype: 'label',
                                                        flex: 1,
                                                        itemId: 'prezzoMinRicercaStockLabel',
                                                        tpl: Ext.create('Ext.XTemplate', 
                                                            '{prezzo:this.fmtCurrency} &euro;',
                                                            {
                                                                fmtCurrency: function(currValue) {
                                                                    return Infocar.app.formatCurrency2(currValue);
                                                                }
                                                            }
                                                        )
                                                    },
                                                    {
                                                        xtype: 'label',
                                                        flex: 1,
                                                        itemId: 'prezzoMaxRicercaStockLabel',
                                                        tpl: Ext.create('Ext.XTemplate', 
                                                            '{prezzo:this.fmtCurrency} &euro;',
                                                            {
                                                                fmtCurrency: function(currValue) {
                                                                    return Infocar.app.formatCurrency2(currValue);
                                                                }
                                                            }
                                                        )
                                                    }
                                                ]
                                            },
                                            {
                                                xtype: 'spacer',
                                                width: 230
                                            },
                                            {
                                                xtype: 'container',
                                                flex: 1,
                                                layout: 'hbox',
                                                items: [
                                                    {
                                                        xtype: 'label',
                                                        flex: 1,
                                                        itemId: 'kmMinRicercaStockLabel',
                                                        tpl: Ext.create('Ext.XTemplate', 
                                                            '{km:this.fmtInt} Km',
                                                            {
                                                                fmtInt: function(intValue) {
                                                                    return Infocar.app.formatInt(intValue);
                                                                }
                                                            }
                                                        )
                                                    },
                                                    {
                                                        xtype: 'label',
                                                        flex: 1,
                                                        itemId: 'kmMaxRicercaStockLabel',
                                                        style: '{text-align:right;}',
                                                        tpl: Ext.create('Ext.XTemplate', 
                                                            '{km:this.fmtInt} Km',
                                                            {
                                                                fmtInt: function(intValue) {
                                                                    return Infocar.app.formatInt(intValue);
                                                                }
                                                            }
                                                        )
                                                    }
                                                ]
                                            }
                                        ]
                                    },
                                    {
                                        xtype: 'container',
                                        layout: 'hbox',
                                        items: [
                                            {
                                                xtype: 'selectfield',
                                                flex: 1,
                                                label: 'Alimentazione',
                                                labelWidth: 200,
                                                name: 'alimentazione_codice',
                                                autoSelect: false,
                                                displayField: 'descrizione',
                                                store: 'AlimentazioneRicercaStockStore',
                                                valueField: 'codice'
                                            },
                                            {
                                                xtype: 'spacer',
                                                width: 100
                                            },
                                            {
                                                xtype: 'selectfield',
                                                flex: 1,
                                                label: 'Carrozzeria',
                                                labelWidth: 200,
                                                name: 'carrozzeria_codice',
                                                autoSelect: false,
                                                displayField: 'descrizione',
                                                store: 'CarrozzeriaRicercaStockStore',
                                                valueField: 'codice'
                                            }
                                        ]
                                    },
                                    {
                                        xtype: 'container',
                                        layout: 'hbox',
                                        items: [
                                            {
                                                xtype: 'spacer',
                                                width: 200
                                            },
                                            {
                                                xtype: 'button',
                                                itemId: 'cercaRicStockButton',
                                                width: 140,
                                                text: 'Cerca'
                                            }
                                        ]
                                    }
                                ]
                            },
                            {
                                xtype: 'container',
                                flex: 1,
                                itemId: 'ricercaStockRisultatoContainer',
                                layout: {
                                    type: 'card',
                                    animation: 'slide'
                                },
                                items: [
                                    {
                                        xtype: 'container',
                                        itemId: 'veicoloRicStockRisultatoContainer',
                                        layout: 'vbox',
                                        items: [
                                            {
                                                xtype: 'container',
                                                layout: 'hbox',
                                                items: [
                                                    {
                                                        xtype: 'label',
                                                        itemId: 'veicoloRicStockNumRisultatiLabel',
                                                        width: 100
                                                    },
                                                    {
                                                        xtype: 'spacer',
                                                        width: 100
                                                    },
                                                    {
                                                        xtype: 'selectfield',
                                                        itemId: 'ordinamentoRicStockComboBox',
                                                        label: 'Ordina per:',
                                                        labelWidth: '50%',
                                                        name: 'ordinamento_codice',
                                                        autoSelect: false,
                                                        displayField: 'descrizione',
                                                        store: 'OrdinamentoRicercaStockStore',
                                                        valueField: 'codice'
                                                    }
                                                ]
                                            },
                                            {
                                                xtype: 'dataview',
                                                flex: 1,
                                                itemId: 'veicoloRicStockRisultatoDataView',
                                                itemTpl: [
                                                    '<table class="veicoloRicStockRisultatoDataViewTableCls">',
                                                    '  <tr>',
                                                    '    <td class="logoVeicoloRicStockRisultatoDataViewTdCls"><img src="{urlImg}"></td>',
                                                    '    <td class="descrizioneVeicoloRicStockRisultatoDataViewTdCls">',
                                                    '        <div class="descrizione1VeicoloRicStockRisultatoDataViewDivCls">{descrizione1}</div>',
                                                    '        <div class="descrizione2VeicoloRicStockRisultatoDataViewDivCls">{descrizione2}</div>',
                                                    '        <div class="descrizione3VeicoloRicStockRisultatoDataViewDivCls">{descrizione3}</div>',
                                                    '        <div class="descrizione4VeicoloRicStockRisultatoDataViewDivCls">{descrizione4}</div>',
                                                    '    </td>',
                                                    '    <td class="frecciaVeicoloRicStockRisultatoDataViewTdCls"><img src="resources/images/freccia_dx.jpg"></td>',
                                                    '  </tr>',
                                                    '</table>',
                                                    ''
                                                ],
                                                store: 'VeicoloStockStore',
                                                useComponents: false
                                            }
                                        ]
                                    }
                                ]
                            }
                        ]
                    },
                    {
                        xtype: 'container',
                        Titolo: 'Stock - Dettaglio veicolo',
                        itemId: 'infoVeicoloStockContainer',
                        layout: 'hbox',
                        items: [
                            {
                                xtype: 'container',
                                hidden: true,
                                itemId: 'testataInfoVeicoloStockContainerLandscape',
                                layout: 'vbox',
                                items: [
                                    {
                                        xtype: 'image',
                                        height: 50,
                                        itemId: 'infoVeicoloStockMiniImg',
                                        width: 50
                                    },
                                    {
                                        xtype: 'label',
                                        itemId: 'descInfoVeicoloStockLabel',
                                        tpl: [
                                            '{veicoloStock_descrizione}'
                                        ]
                                    }
                                ]
                            },
                            {
                                xtype: 'container',
                                flex: 1,
                                layout: 'vbox',
                                items: [
                                    {
                                        xtype: 'container',
                                        itemId: 'testataInfoVeicoloStockContainerPortrait',
                                        layout: 'hbox',
                                        items: [
                                            {
                                                xtype: 'image',
                                                height: 50,
                                                itemId: 'infoVeicoloStockMiniImg',
                                                width: 50
                                            },
                                            {
                                                xtype: 'label',
                                                itemId: 'descInfoVeicoloStockLabel',
                                                tpl: [
                                                    '{veicoloStock_descrizione}'
                                                ]
                                            }
                                        ]
                                    },
                                    {
                                        xtype: 'container',
                                        flex: 1,
                                        itemId: 'corpoInfoVeicoloStockContainer',
                                        layout: {
                                            type: 'card',
                                            animation: 'slide'
                                        },
                                        items: [
                                            {
                                                xtype: 'container',
                                                itemId: 'generaleInfoVeicoloStockContainer',
                                                layout: 'vbox',
                                                scrollable: 'vertical',
                                                items: [
                                                    {
                                                        xtype: 'container',
                                                        layout: 'hbox',
                                                        items: [
                                                            {
                                                                xtype: 'carousel',
                                                                itemId: 'infoVeicoloStockCarousel',
                                                                width: '50%',
                                                                items: [
                                                                    {
                                                                        xtype: 'container',
                                                                        layout: 'fit',
                                                                        items: [
                                                                            {
                                                                                xtype: 'image',
                                                                                itemId: 'infoVeicoloStockImg1',
                                                                                mode: 'image'
                                                                            }
                                                                        ]
                                                                    },
                                                                    {
                                                                        xtype: 'container',
                                                                        layout: 'fit',
                                                                        items: [
                                                                            {
                                                                                xtype: 'image',
                                                                                itemId: 'infoVeicoloStockImg2',
                                                                                mode: 'image'
                                                                            }
                                                                        ]
                                                                    },
                                                                    {
                                                                        xtype: 'container',
                                                                        layout: 'fit',
                                                                        items: [
                                                                            {
                                                                                xtype: 'image',
                                                                                itemId: 'infoVeicoloStockImg3',
                                                                                mode: 'image'
                                                                            }
                                                                        ]
                                                                    }
                                                                ]
                                                            },
                                                            {
                                                                xtype: 'container',
                                                                itemId: 'testoinfoVeicoloStockContainer',
                                                                width: '50%',
                                                                items: [
                                                                    {
                                                                        xtype: 'label',
                                                                        itemId: 'testoInfoVeicoloStockLabel',
                                                                        tpl: Ext.create('Ext.XTemplate', 
                                                                            '<div class="">Prezzo di vendita</div>',
                                                                            '<div class="">{venditaPrezzo:this.fmtCurrency} &euro;</div>',
                                                                            '<br>',
                                                                            '<div class="">',
                                                                            'Codice infocar: {codiceInfocar}<br>',
                                                                            'Codice casa: {codiceCasa}<br>',
                                                                            'Codice QUD: {codiceQUD}<br>',
                                                                            'Omologazioni: {omologazioni}<br>',
                                                                            '</div>',
                                                                            {
                                                                                fmtCurrency: function(currValue) {
                                                                                    return Infocar.app.formatCurrency(currValue);
                                                                                }
                                                                            }
                                                                        ),
                                                                        width: '100%'
                                                                    },
                                                                    {
                                                                        xtype: 'container',
                                                                        cls: 'prezziInfoVeicoloStockOverlayContainerCls',
                                                                        height: 60,
                                                                        itemId: 'prezziInfoVeicoloStockOverlayContainer',
                                                                        style: 'background-color: #cccccc;',
                                                                        top: 0,
                                                                        width: '100%',
                                                                        layout: 'hbox',
                                                                        scrollable: false,
                                                                        items: [
                                                                            {
                                                                                xtype: 'button',
                                                                                itemId: 'frecciaPrezziInfoVeicoloStockButton',
                                                                                width: 60,
                                                                                iconCls: 'arrow_left'
                                                                            },
                                                                            {
                                                                                xtype: 'label',
                                                                                flex: 1,
                                                                                itemId: 'testoPrezziInfoVeicoloStockLabel',
                                                                                tpl: [
                                                                                    '<div style="width: 100%; text-align: right">',
                                                                                    '    <p>Prezzo alternativo: {alternativoPrezzo} &euro;</p>',
                                                                                    '    <p>Prezzo minimo di vendita: {minimoPrezzo} &euro;</p>',
                                                                                    '</div>'
                                                                                ]
                                                                            }
                                                                        ]
                                                                    }
                                                                ]
                                                            }
                                                        ]
                                                    },
                                                    {
                                                        xtype: 'container',
                                                        itemId: 'sintesiEquipInfoVeicoloStockContainer',
                                                        layout: {
                                                            type: 'hbox',
                                                            align: 'start'
                                                        },
                                                        items: [
                                                            {
                                                                xtype: 'label',
                                                                itemId: 'sintesiEquipInfoVeicoloStockLabel',
                                                                tpl: [
                                                                    '<div class="">Equipaggiamenti</div>',
                                                                    '<br>',
                                                                    '<div class="">',
                                                                    'Questo allestimento comprende {numEquip} equipaggiamenti',
                                                                    '</div>'
                                                                ],
                                                                width: '80%'
                                                            },
                                                            {
                                                                xtype: 'button',
                                                                hidden: false,
                                                                itemId: 'equipInfoVeicoloStockButton',
                                                                width: '20%',
                                                                text: 'Scopri tutti gli equipaggiamenti'
                                                            }
                                                        ]
                                                    },
                                                    {
                                                        xtype: 'tabpanel',
                                                        height: 200,
                                                        items: [
                                                            {
                                                                xtype: 'container',
                                                                title: 'Informazioni aggiuntive',
                                                                items: [
                                                                    {
                                                                        xtype: 'label',
                                                                        itemId: 'informAggiuntiveSchedaInfoVeicoloStockLabel',
                                                                        tpl: [
                                                                            '{infoAggiuntiveSchedaVeicolo}'
                                                                        ]
                                                                    }
                                                                ]
                                                            },
                                                            {
                                                                xtype: 'container',
                                                                title: 'Stato uso',
                                                                items: [
                                                                    {
                                                                        xtype: 'label',
                                                                        height: '100%',
                                                                        itemId: 'statoUsoSchedaInfoVeicoloStockLabel',
                                                                        tpl: [
                                                                            '{statoUsoSchedaVeicolo}'
                                                                        ]
                                                                    }
                                                                ]
                                                            }
                                                        ],
                                                        tabBar: {
                                                            docked: 'top'
                                                        }
                                                    },
                                                    {
                                                        xtype: 'container',
                                                        itemId: 'sintesiDatiTecniciInfoVeicoloStockContainer',
                                                        layout: {
                                                            type: 'hbox',
                                                            align: 'start'
                                                        },
                                                        items: [
                                                            {
                                                                xtype: 'label',
                                                                itemId: 'sintesiDatiTecniciInfoVeicoloStockLabel',
                                                                tpl: [
                                                                    '<div class="">Dati tecnici</div>',
                                                                    '<br>',
                                                                    '<div class="">',
                                                                    'Alimentazione: {alimentazione_descrizione}&nbsp;&nbsp;',
                                                                    'Cilindrata cm<sup>3</sup>: {cilindrata}&nbsp;&nbsp;',
                                                                    'Potenza kW/CV: {potenza}<br>',
                                                                    'Carrozzeria: {carrozzeria_descrizione}&nbsp;&nbsp;',
                                                                    'Normativa: {normativa}',
                                                                    '</div>'
                                                                ],
                                                                width: '80%'
                                                            },
                                                            {
                                                                xtype: 'button',
                                                                hidden: false,
                                                                itemId: 'datiTecniciInfoVeicoloStockButton',
                                                                width: '20%',
                                                                text: 'Scopri tutti i dati tecnici'
                                                            }
                                                        ]
                                                    },
                                                    {
                                                        xtype: 'container',
                                                        itemId: 'sintesiSituazioneStockVeicoloStockContainer',
                                                        layout: 'hbox',
                                                        items: [
                                                            {
                                                                xtype: 'label',
                                                                itemId: 'sintesiDatiPrevisiviInfoVeicoloStockLabel',
                                                                tpl: Ext.create('Ext.XTemplate', 
                                                                    '<table border="0" cellspacing="4" cellpadding="4">',
                                                                    '    <tr>',
                                                                    '        <td align="left"></td>',
                                                                    '        <td>Valore previsivo a 3 mesi</td>',
                                                                    '        <td>Valore previsivo a 6 mesi</td>',
                                                                    '    </tr>',
                                                                    '    <tr>',
                                                                    '        <td align="left">Vendita</td>',
                                                                    '        <td>{venditaValoreMesi3:this.fmtInt}</td>',
                                                                    '        <td>{venditaValoreMesi6:this.fmtInt}</td>',
                                                                    '    </tr>',
                                                                    '    <tr>',
                                                                    '        <td align="left">Ritiro</td>',
                                                                    '        <td>{ritiroValoreMesi3:this.fmtInt}</td>',
                                                                    '        <td>{ritiroValoreMesi6:this.fmtInt}</td>',
                                                                    '    </tr>',
                                                                    '</table>',
                                                                    {
                                                                        fmtInt: function(intValue) {
                                                                            return Infocar.app.formatInt(intValue);
                                                                        }
                                                                    }
                                                                ),
                                                                width: '50%'
                                                            },
                                                            {
                                                                xtype: 'label',
                                                                itemId: 'sintesiDatiStockInfoVeicoloStockLabel',
                                                                tpl: Ext.create('Ext.XTemplate', 
                                                                    '<table border="0" cellspacing="4" cellpadding="4">',
                                                                    '    <tr>',
                                                                    '        <td align="left">In stock</td>',
                                                                    '        <td>Fisico</td>',
                                                                    '        <td>Virtuale</td>',
                                                                    '        <td>Giacenza media</td>',
                                                                    '        <td>Giacenza modello</td>',
                                                                    '    </tr>',
                                                                    '    <tr>',
                                                                    '        <td align="left">Allestimento</td>',
                                                                    '        <td>{allestimentoFisicoStock:this.fmtInt}</td>',
                                                                    '        <td>{allestimentoVirtualeStock:this.fmtInt}</td>',
                                                                    '        <td>{allestimentoGiacenzaStock:this.fmtInt}</td>',
                                                                    '        <td>{allestimentoGiacMediaStock:this.fmtInt}&nbsp;<img src="{allestimentoGiacenzaStockUrlImg}"></td>',
                                                                    '    </tr>',
                                                                    '    <tr>',
                                                                    '        <td align="left">Modello</td>',
                                                                    '        <td>{modelloFisicoStock:this.fmtInt}</td>',
                                                                    '        <td>{modelloVirtualeStock:this.fmtInt}</td>',
                                                                    '        <td>{modelloGiacenzaStock:this.fmtInt}</td>',
                                                                    '        <td>{modelloGiacMediaStock:this.fmtInt}&nbsp;<img src="{modelloGiacenzaStockUrlImg}"></td>',
                                                                    '    </tr>',
                                                                    '</table>',
                                                                    {
                                                                        fmtInt: function(intValue) {
                                                                            return Infocar.app.formatInt(intValue);
                                                                        }
                                                                    }
                                                                ),
                                                                width: '50%'
                                                            }
                                                        ]
                                                    }
                                                ]
                                            },
                                            {
                                                xtype: 'container',
                                                itemId: 'datiTecniciInfoVeicoloStockContainer',
                                                layout: 'vbox',
                                                items: [
                                                    {
                                                        xtype: 'label',
                                                        html: 'Dati tecnici'
                                                    },
                                                    {
                                                        xtype: 'list',
                                                        flex: 1,
                                                        disableSelection: true,
                                                        itemTpl: [
                                                            '<table border="0">',
                                                            '  <tr>',
                                                            '    <td style="width: 200px">{nomeAttributo}:</td>',
                                                            '    <td>{valoreAttributo}</td>',
                                                            '  </tr>',
                                                            '</table>',
                                                            ''
                                                        ],
                                                        store: 'DatiTecniciInfoVeicoloStockStore',
                                                        grouped: true
                                                    }
                                                ]
                                            },
                                            {
                                                xtype: 'container',
                                                itemId: 'equipInfoVeicoloStockContainer',
                                                layout: 'vbox',
                                                items: [
                                                    {
                                                        xtype: 'label',
                                                        html: 'Equipaggiamenti di serie'
                                                    },
                                                    {
                                                        xtype: 'dataview',
                                                        flex: 1,
                                                        itemTpl: Ext.create('Ext.XTemplate', 
                                                            '<div> - {descrizione}</div>',
                                                            {
                                                                disableFormats: true
                                                            }
                                                        ),
                                                        store: 'EquipSerieInfoVeicoloStockStore'
                                                    },
                                                    {
                                                        xtype: 'label',
                                                        html: 'Equipaggiamenti montati'
                                                    },
                                                    {
                                                        xtype: 'dataview',
                                                        flex: 1,
                                                        itemTpl: Ext.create('Ext.XTemplate', 
                                                            '<div> - {descrizione}</div>',
                                                            {
                                                                disableFormats: true
                                                            }
                                                        ),
                                                        store: 'EquipMontatiInfoVeicoloStockStore'
                                                    }
                                                ]
                                            }
                                        ]
                                    }
                                ]
                            },
                            {
                                xtype: 'toolbar',
                                docked: 'bottom',
                                hidden: false,
                                items: [
                                    {
                                        xtype: 'button',
                                        itemId: 'indietroInfoVeicoloStockButton',
                                        text: 'Indietro'
                                    },
                                    {
                                        xtype: 'button',
                                        itemId: 'stampaInfoVeicoloStockButton',
                                        text: 'Stampa'
                                    }
                                ]
                            }
                        ]
                    }
                ]
            }
        ]
    }

});